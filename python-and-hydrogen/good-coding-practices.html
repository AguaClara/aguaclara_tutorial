

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Good Coding Practices &mdash; AguaClara Tutorial v0.1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Git and GitHub Introduction" href="../git-and-github/git-and-github-introduction.html" />
    <link rel="prev" title="Hydrogen Basics" href="hydrogen-basics.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> AguaClara Tutorial
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installing Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing-software/installing-software-introduction.html">Installing Software Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing-software/installing-on-macos.html">Installing on MacOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing-software/installing-on-windows.html">Installing on Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing-software/installing-interactive-tutorials.html">Installing Interactive Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Atom and Markdown</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atom-and-markdown/atom-and-markdown-introduction.html">Atom and Markdown Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../atom-and-markdown/markdown-basics.html">Markdown Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../atom-and-markdown/saving-markdown-to-pdf.html">Saving Markdown to PDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../atom-and-markdown/teletype-basics.html">Teletype Basics</a></li>
</ul>
<p class="caption"><span class="caption-text">Python and Hydrogen</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="python-and-hydrogen-introduction.html">Python and Hydrogen Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing-python-code.html">Writing Python Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-python-code.html">Running Python Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="python-packages.html">Python Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="hydrogen-basics.html">Hydrogen Basics</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Good Coding Practices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#doctest">Doctest</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Git and GitHub</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../git-and-github/git-and-github-introduction.html">Git and GitHub Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git-and-github/git-basics.html">Git Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git-and-github/git-in-the-command-line.html">Git in the Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../git-and-github/github-basics.html">GitHub Basics</a></li>
</ul>
<p class="caption"><span class="caption-text">Research</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../research/procoda.html">ProCoDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research/turbidimeter-calibration.html">Turbidimeter Calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research/turbidimeter-cleaning.html">Turbidimeter Cleaning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../research/common-turbidimeter-problems.html">Common Turbidimeter Problems</a></li>
</ul>
<p class="caption"><span class="caption-text">Other Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../other-tutorials/common-issues.html">Common Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../other-tutorials/transitioning-from-matlab.html">Transitioning from MATLAB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../other-tutorials/contributing-to-the-tutorial.html">Contributing to the Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../other-tutorials/video-tutorials.html">Video Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AguaClara Tutorial</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Good Coding Practices</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/python-and-hydrogen/good-coding-practices.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="good-coding-practices">
<span id="id1"></span><h1>Good Coding Practices<a class="headerlink" href="#good-coding-practices" title="Permalink to this headline">¶</a></h1>
<div class="section" id="doctest">
<h2>Doctest<a class="headerlink" href="#doctest" title="Permalink to this headline">¶</a></h2>
<p>While you’re writing your code or are finished with your code, it is always important to test your code. One of the things that has to be tested is any function that you write because you’ll want to know whether the output from your new function is correct. You can also test a block of code to make sure all the pieces to your script work together properly. For AguaClara work, your code should always incorporate doctesting.</p>
<p>Doctesting is important to your work because it helps with documentation and debugging. When you use doctesting, you’re essentially telling the test that your code should produce a specific output in the development stage it’s currently in. This is useful during the transition between semesters when teams are changing personnel. Having that doctest tells the new members what the code was previously producing, so if the code isn’t producing what was previously expected, they can try to identify the source of the problem. Additionally, doctesting lets you keep track of your code’s progress throughout the development stages. If your tests are failing, it can be an indication that an unexpected change occured in the code, which can then be identified and fixed.</p>
<p>Using doctesting is fairly straight forward. There are several key things that your code will need in order to doctest.</p>
<ul class="simple">
<li><p>You <strong>must</strong> have your tests in docstrings</p>
<ul>
<li><p>Docstrings are sets of triple double quotations as follows:</p></li>
</ul>
</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;This is a docstring&quot;&quot;&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Within your docstring, you must us <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> to indicate a Python interpreter input</p>
<ul>
<li><p>This is what you would see if you called a Python function or ran a block of Python code in Terminal or Command Shell</p></li>
</ul>
</li>
<li><p>Below each input, you <strong>must</strong> put the output that would be displayed in the interpreter if you ran your function or block of code</p>
<ul>
<li><p>This can be done by running the code that you wish to test using Hydrogen, and copying and pasting the output that it gives you to the doctest</p></li>
<li><p>For outputs that contain units, which most of your code should have, Hydrogen will not give you the Python interpreter output. To get that output, you must enter the test output as <code class="docutils literal notranslate"><span class="pre">&lt;Quantity(THE</span> <span class="pre">NUMERICAL</span> <span class="pre">PART</span> <span class="pre">OF</span> <span class="pre">THE</span> <span class="pre">OUTPUT,</span> <span class="pre">'STRING</span> <span class="pre">OF</span> <span class="pre">THE</span> <span class="pre">UNITS</span> <span class="pre">ASSOCIATED</span> <span class="pre">WITH</span> <span class="pre">YOUR</span> <span class="pre">OUTPUT')&gt;</span></code></p></li>
<li><p>If you’re testing a function with a <code class="docutils literal notranslate"><span class="pre">print()</span></code> statement and a <code class="docutils literal notranslate"><span class="pre">return</span></code> value, you must include the output produced by both in your doctest. Usually the <code class="docutils literal notranslate"><span class="pre">print()</span></code> statement output appears before the function’s return value. <strong>Remember that</strong> <code class="docutils literal notranslate"><span class="pre">aguaclara.play</span></code> <strong>automatically sets the number of sigfigs in a print statement to 3 sig figs. Hydrogen will always give the full numerical answer.</strong></p></li>
<li><p>Array outputs are always enclosed in <code class="docutils literal notranslate"><span class="pre">[]</span></code> if you <code class="docutils literal notranslate"><span class="pre">print()</span></code> it, as nothing if you only assign it to a variable name, or as <code class="docutils literal notranslate"><span class="pre">array([YOUR</span> <span class="pre">ARRAY])</span></code> if you don’t assign it to a variable name or <code class="docutils literal notranslate"><span class="pre">print()</span></code> it</p></li>
<li><p>If you’re testing a loop or <code class="docutils literal notranslate"><span class="pre">if-statement</span></code>, you must show the indentation in the inout using <code class="docutils literal notranslate"><span class="pre">...</span></code> followed by tabs</p></li>
</ul>
</li>
<li><p>At the start of your code, you should <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">doctest</span></code> to use the doctest functionality in Python</p></li>
<li><p>At the end of the code, you should have a line with <code class="docutils literal notranslate"><span class="pre">doctest.testmod(verbose=True)</span></code></p></li>
</ul>
<p>Let’s use doctesting on the function for the calculating the number of moles for an ideal gas written above.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aguaclara.play</span> <span class="kn">import</span><span class="o">*</span>
<span class="kn">import</span> <span class="nn">doctest</span>

<span class="k">def</span> <span class="nf">nmoles_alt</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">T</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;This function also takes in values of pressure, temperature,</span>
<span class="sd">  and volume to determine the number of moles of an ideal gas.</span>

<span class="sd">  &gt;&gt;&gt; from aguaclara.play import*</span>
<span class="sd">  &gt;&gt;&gt; nmoles_alt(1, 10, 100)</span>
<span class="sd">  &lt;Quantity(1.2186597134166985, &#39;mole&#39;)&gt;</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">P</span> <span class="o">=</span> <span class="n">P</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">atm</span> <span class="c1"># Applies units to pressure</span>
  <span class="n">V</span> <span class="o">=</span> <span class="n">V</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">liter</span> <span class="c1"># Applies units to volume</span>
  <span class="n">T</span> <span class="o">=</span> <span class="n">T</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">kelvin</span> <span class="c1"># Applies units to temperature</span>
  <span class="k">return</span> <span class="p">((</span><span class="n">P</span> <span class="o">*</span> <span class="n">V</span> <span class="o">/</span> <span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">R</span> <span class="o">*</span> <span class="n">T</span><span class="p">))</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">())</span>

<span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Now lets say I wrote the code a long time ago and the output that I got during testing at that point in the development gave me an ouput of <code class="docutils literal notranslate"><span class="pre">&lt;Quantity(10,</span> <span class="pre">'meter')&gt;</span></code>. My doctest would look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aguaclara.play</span> <span class="kn">import</span><span class="o">*</span>
<span class="kn">import</span> <span class="nn">doctest</span>

<span class="k">def</span> <span class="nf">nmoles_alt</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">T</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;This function also takes in values of pressure, temperature,</span>
<span class="sd">  and volume to determine the number of moles of an ideal gas.</span>

<span class="sd">  &gt;&gt;&gt; from aguaclara.play import*</span>
<span class="sd">  &gt;&gt;&gt; nmoles_alt(1, 10, 100)</span>
<span class="sd">  &lt;Quantity(10, &#39;meter&#39;)&gt;</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">P</span> <span class="o">=</span> <span class="n">P</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">atm</span> <span class="c1"># Applies units to pressure</span>
  <span class="n">V</span> <span class="o">=</span> <span class="n">V</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">liter</span> <span class="c1"># Applies units to volume</span>
  <span class="n">T</span> <span class="o">=</span> <span class="n">T</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">kelvin</span> <span class="c1"># Applies units to temperature</span>
  <span class="k">return</span> <span class="p">((</span><span class="n">P</span> <span class="o">*</span> <span class="n">V</span> <span class="o">/</span> <span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">R</span> <span class="o">*</span> <span class="n">T</span><span class="p">))</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">())</span>

<span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Since my new code has been updated to produce the output we previously saw, I should expect my test to fail.</p>
<p>In the next code block, I’ve shown how to write doctests for code containing loops, <code class="docutils literal notranslate"><span class="pre">print()</span></code> statements within functions, and arrays.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">aguaclara.play</span> <span class="kn">import</span><span class="o">*</span>
<span class="kn">import</span> <span class="nn">doctest</span>

<span class="k">def</span> <span class="nf">nmoles_alt</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">V</span><span class="p">,</span> <span class="n">T</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;This function also takes in values of pressure, temperature,</span>
<span class="sd">  and volume to determine the number of moles of an ideal gas.</span>

<span class="sd">  &gt;&gt;&gt; from aguaclara.play import*</span>
<span class="sd">  &gt;&gt;&gt; np.array([1, 1, 1, 1])</span>
<span class="sd">  array([1, 1, 1, 1])</span>
<span class="sd">  &gt;&gt;&gt; print(np.array([1, 1, 1, 1]))</span>
<span class="sd">  [1 1 1 1]</span>
<span class="sd">  &gt;&gt;&gt; P = np.array([1, 1, 1, 1])</span>
<span class="sd">  &gt;&gt;&gt; V = np.array([])</span>
<span class="sd">  &gt;&gt;&gt; for i in [1, 2]:</span>
<span class="sd">  ...   for j in [3, 4, 5]:</span>
<span class="sd">  ...     V = np.append(V, i*j)</span>
<span class="sd">  ...     print(i*j)</span>
<span class="sd">  3</span>
<span class="sd">  4</span>
<span class="sd">  5</span>
<span class="sd">  6</span>
<span class="sd">  8</span>
<span class="sd">  10</span>
<span class="sd">  &gt;&gt;&gt; nmoles_alt(1, 10, 100)</span>
<span class="sd">  1.219 mole</span>
<span class="sd">  &lt;Quantity(1.2186597134166985, &#39;mole&#39;)&gt;</span>
<span class="sd">  &gt;&gt;&gt; nmoles_alt(P[0], V[5], 100)</span>
<span class="sd">  1.219 mole</span>
<span class="sd">  &lt;Quantity(1.2186597134166985, &#39;mole&#39;)&gt;</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">P</span> <span class="o">=</span> <span class="n">P</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">atm</span> <span class="c1"># Applies units to pressure</span>
  <span class="n">V</span> <span class="o">=</span> <span class="n">V</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">liter</span> <span class="c1"># Applies units to volume</span>
  <span class="n">T</span> <span class="o">=</span> <span class="n">T</span> <span class="o">*</span> <span class="n">u</span><span class="o">.</span><span class="n">kelvin</span> <span class="c1"># Applies units to temperature</span>
  <span class="k">print</span><span class="p">((</span><span class="n">P</span> <span class="o">*</span> <span class="n">V</span> <span class="o">/</span> <span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">R</span> <span class="o">*</span> <span class="n">T</span><span class="p">))</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">())</span> <span class="c1"># This prints the number of moles</span>
  <span class="k">return</span> <span class="p">((</span><span class="n">P</span> <span class="o">*</span> <span class="n">V</span> <span class="o">/</span> <span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">R</span> <span class="o">*</span> <span class="n">T</span><span class="p">))</span><span class="o">.</span><span class="n">to_base_units</span><span class="p">())</span>

<span class="n">doctest</span><span class="o">.</span><span class="n">testmod</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>It is important to note that any white spaces (spaces in your code) in your inputs or outputs of your doctest will be interpreted in the test. These will throw a failed test even if the output is correct, so it is extremely important to check that your doctests don’t have white spaces.</strong></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../git-and-github/git-and-github-introduction.html" class="btn btn-neutral float-right" title="Git and GitHub Introduction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hydrogen-basics.html" class="btn btn-neutral float-left" title="Hydrogen Basics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, AguaClara Cornell

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>